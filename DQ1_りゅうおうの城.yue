import 'macros' as {$}
import 'utl' as :L, :pos_in_box, :play--, :toZenkaku
import 'lib.lume'
import 'ui' as :Scene, :BGM
import 'main' as :Dungeon, :Dungeonåœ°ä¸Š, :Charactor, :g_player, :æ‰‰, :å®ç®±, :Battle, :generateMonster, :MessageBoxRetro, :SelectBoxRetro
local *


mapdata1F = $to2d [[
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,CCC,,CCCCCCCCCCC,,,,,,,,,,
,,,,,,,,,CC'CC,C-----C'''CC,,,,,,,,,
,,,,,,,,CC'''CCC-AAA-C'C''CC,,,,,,,,
,,,,,,,,C''C'''C-A'A-C'''''C,,,,,,,,
,,,,,,,,C'CCCC'C-----CC'CC'C,,,,,,,,
,,,,,,,,C'C''''C-----C'''C'C,,,,,,,,
,,,,,,,,C'CC'C'CC'''CC'C'''C,,,,,,,,
,,,,,,,,C'C'''''CC-CC''''C'C,,,,,,,,
,,,,,,,,C'CC'CC'C'''CCC'CC'C,,,,,,,,
,,,,,,,,C'C---C'CC-CCC---C'C,,,,,,,,
,,,,,,,,C'C-C-C'C'''CC-C-C'C,,,,,,,,
,,,,,,,,C'C---C'CC-CCC---C'C,,,,,,,,
,,,,,,,,C'C-C-C'''''CC-C-C'C,,,,,,,,
,,,,,,,,C'C---CCCCCCCC---C'C,,,,,,,,
,,,,,,,,C'CC4CC''''''CC4CC'C,,,,,,,,
,,,,,,,,C''CCC''C''C''CCC''C,,,,,,,,
,,,,,,,,CC''''''''''''''''CC,,,,,,,,
,,,,,,,,,CC'''CCC''CCC'''CC,,,,,,,,,
,,,,,,,,,,CCCCC,C''C,CCCCC,,,,,,,,,,
,,,,,,,,,,,,,,,,C''C,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]]

class ã‚Šã‚…ã†ãŠã†ã®åŸŽ extends Dungeon
	ãƒªãƒ¬ãƒŸãƒˆ: => Scene.current\blackout -> Scene.current = require('DQ1_å…¨ä½“ãƒžãƒƒãƒ—').build_atã‚Šã‚…ã†ãŠã†ã®åŸŽ()
class ã‚Šã‚…ã†ãŠã†ã®åŸŽåœ°ä¸Š extends Dungeonåœ°ä¸Š
	ãƒªãƒ¬ãƒŸãƒˆ: => Scene.current\blackout -> Scene.current = require('DQ1_å…¨ä½“ãƒžãƒƒãƒ—').build_atã‚Šã‚…ã†ãŠã†ã®åŸŽ()

build_1F = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽåœ°ä¸Š(mapdata1F)
		éšŽæ®µã‚’è¨­å®š = ->
			.bg.data[10][19] = 0x34
			.bg\set(.bg.data)
			.traps[] = with {18, 9}
				.talk = =>
					play'assets/DQ1/éšŽæ®µ.ogg'
					Scene.current\blackout -> Scene.current = build_B1_from1F_3()
		.traps[] = with {}
			.check = (player)-> not pos_in_box({player.x, player.y}, {8,8,20,20})
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = require('DQ1_å…¨ä½“ãƒžãƒƒãƒ—').build_atã‚Šã‚…ã†ãŠã†ã®åŸŽ()
		.charactors[] = æ‰‰(12, 16, 'ã‚Šã‚…ã†ãŠã†ã®åŸŽ1F_1')
		.traps[] = with {12, 22}
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_from1F_1()
		.charactors[] = æ‰‰(23, 16, 'ã‚Šã‚…ã†ãŠã†ã®åŸŽ1F_2')
		.traps[] = with {23, 22}
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_from1F_2()
		if lume.find(g_player.flags, L'ã‚Šã‚…ã†ãŠã†ã®åŸŽã®éšŽæ®µã‚’ã¿ã¤ã‘ãŸ')
			éšŽæ®µã‚’è¨­å®š()
		_monster = -> generateMonster lume.weightedchoice {ã‚¹ã‚¿ãƒ¼ã‚­ãƒ¡ãƒ©: 1, ã‚­ãƒ©ãƒ¼ãƒªã‚«ãƒ³ãƒˆ: 1, ãƒ‰ãƒ©ã‚´ãƒ³: 1, ã ã„ã¾ã©ã†: 1, ã‚ãã¾ã®ãã—: 1}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()
		.ã—ã‚‰ã¹ã‚‹ = =>
			if 18 == g_player.x and 9 == g_player.y
				éšŽæ®µã‚’è¨­å®š()
				g_player.flags[] = L'ã‚Šã‚…ã†ãŠã†ã®åŸŽã®éšŽæ®µã‚’ã¿ã¤ã‘ãŸ'
				'ã‹ã„ã ã‚“'
			else nil

export build_fromå…¥å£ = ->
	with build_1F()
		g_player.x, g_player.y = 18, 27
		g_player.ãŸã„ã¾ã¤ = false -- åœ°ä¸Šéƒ¨ã¨ãŸã„ã¾ã¤ã‚’å…±é€šã¨ã™ã‚‹
		BGM Dungeonåœ°ä¸Š.BGM

build_1F_fromB1_1 = ->
	with build_1F()
		g_player.x, g_player.y = 12, 22
build_1F_fromB1_2 = ->
	with build_1F()
		g_player.x, g_player.y = 23, 22
build_1F_fromB1_3 = ->
	with build_1F()
		g_player.x, g_player.y = 18, 9


mapdataB1 = $to2d [[
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,CCCCCCCCCCCCCCCCCCCCCC,,,,,,,
,,,,,,,C''''''''C3C'''C'''''C,,,,,,,
,,,,,,,C'CCCCC''C'''C'C4CCC'C,,,,,,,
,,,,,,,C'C'''CC'CCCCC'CCC'''C,,,,,,,
,,,,,,,C'C''''C'''''''CC''C'C,,,,,,,
,,,,,,,C'C4'C'CC'''''CC''CCCC,,,,,,,
,,,,,,,C'CCCC''CCCCCCC''CC''C,,,,,,,
,,,,,,,C''''CC'C''''C''CC'''C,,,,,,,
,,,,,,,CCC''C''CC''CC4'C''C4C,,,,,,,
,,,,,,,C'CC'C'CC''''CCCC''CCC,,,,,,,
,,,,,,,C''''C'C''CC''C4CC'C'C,,,,,,,
,,,,,,,C'CCCC'C''CC''C''C'C'C,,,,,,,
,,,,,,,C'C''''CC''''CC''C'C'C,,,,,,,
,,,,,,,C'C'C'''CC''CC''CC'C'C,,,,,,,
,,,,,,,C'C'CCC'C3'''C'''''C'C,,,,,,,
,,,,,,,C'C4C'''CCCCCCCC'CCC'C,,,,,,,
,,,,,,,C'CCC'CCC''''''''C3''C,,,,,,,
,,,,,,,C'C'''''''CCCC'CCC'''C,,,,,,,
,,,,,,,C'C''CCCC'''C''''C'''C,,,,,,,
,,,,,,,C'CCCC''CCC'CCCC'''C'C,,,,,,,
,,,,,,,C''''''''4C''''''C'''C,,,,,,,
,,,,,,,CCCCCCCCCCCCCCCCCCCCCC,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]]

build_B1 = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽ(mapdataB1)
		.traps[] = with {16, 21} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_1F_fromB1_1()
		.traps[] = with {25, 23} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_1F_fromB1_2()
		.traps[] = with {17, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_1F_fromB1_3()
		.traps[] = with {16, 27} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB1_1()
		.traps[] = with {23, 9} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB1_2()
		.traps[] = with {21, 15} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB1_3()
		.traps[] = with {10, 12} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB1_4()
		.traps[] = with {10, 22} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB1_5()
		.traps[] = with {22, 17} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB1_6()
		.traps[] = with {27, 15} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB1_7()
		_monster = -> generateMonster lume.weightedchoice {ã‚¹ã‚¿ãƒ¼ã‚­ãƒ¡ãƒ©: 1, ã‚­ãƒ©ãƒ¼ãƒªã‚«ãƒ³ãƒˆ: 1, ãƒ‰ãƒ©ã‚´ãƒ³: 1, ã ã„ã¾ã©ã†: 1, ã‚ãã¾ã®ãã—: 1}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()

build_B1_from1F_1 = ->
	with build_B1()
		g_player.x, g_player.y = 16, 21
build_B1_from1F_2 = ->
	with build_B1()
		g_player.x, g_player.y = 25, 23
build_B1_from1F_3 = ->
	with build_B1()
		g_player.x, g_player.y = 17, 8

build_B1_fromB2_1 = ->
	with build_B1()
		g_player.x, g_player.y = 16, 27
build_B1_fromB2_2 = ->
	with build_B1()
		g_player.x, g_player.y = 23, 9
build_B1_fromB2_3 = ->
	with build_B1()
		g_player.x, g_player.y = 21, 15
build_B1_fromB2_4 = ->
	with build_B1()
		g_player.x, g_player.y = 10, 12
build_B1_fromB2_5 = ->
	with build_B1()
		g_player.x, g_player.y = 10, 22
build_B1_fromB2_6 = ->
	with build_B1()
		g_player.x, g_player.y = 22, 17
build_B1_fromB2_7 = ->
	with build_B1()
		g_player.x, g_player.y = 27, 15


mapdataB2 = $to2d[[
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCC3'C4C3'C3'CCCCCCCC
CCCCCCCC3CC'CC'CC4CCCCCCCC
CCCCCCCCCC'''C''CCCCCCCCCC
CCCCCCCC'''CCCC'''CCCCCCCC
CCCCCCCC'CCC3'C'C'CCCCCCCC
CCCCCCCC'C'C''CCC'CCCCCCCC
CCCCCCCC'''CCCC'''CCCCCCCC
CCCCCCCCCC''C'''CCCCCCCCCC
CCCCCCCC4CC'CC'CC3CCCCCCCC
CCCCCCCC'4C''''C3'CCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
]]

build_B2 = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽ(mapdataB2)
		.traps[] = with {13, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_fromB2_1()
		.traps[] = with {16, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_fromB2_2()
		.traps[] = with {12, 12} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_fromB2_3()
		.traps[] = with {11, 8} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B3_fromB2_1()
		.traps[] = with {17, 9} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B3_fromB2_2()
		----
		.traps[] = with {8, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_fromB2_4()
		.traps[] = with {8, 9} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_fromB2_5()
		.traps[] = with {16, 17} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_fromB2_6()
		.traps[] = with {17, 16} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B1_fromB2_7()
		.traps[] = with {8, 16} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B3_fromB2_3()
		.traps[] = with {9, 17} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B3_fromB2_4()

		_monster = -> generateMonster lume.weightedchoice {ã ã„ã¾ã©ã†: 1, ã—ã«ãŒã¿ã®ãã—: 1, ã‚¹ãƒˆãƒ¼ãƒ³ãƒžãƒ³: 1, ã‚­ãƒ¼ã‚¹ãƒ‰ãƒ©ã‚´ãƒ³: 2}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()
		if g_player.æ­¦å™¨ != L'ãƒ­ãƒˆã®ã¤ã‚‹ãŽ' and not lume.find(g_player.items, L'ãƒ­ãƒˆã®ã¤ã‚‹ãŽ') -- ã“ã‚Œã ã¨å£²ã£ãŸã‚‰ã¾ãŸå‡ºç¾ã™ã‚‹ã“ã¨ã«ãªã‚‹
			.charactors[] = å®ç®±(13, 13, L'ãƒ­ãƒˆã®ã¤ã‚‹ãŽ', L'ãƒ­ãƒˆã®ã¤ã‚‹ãŽã‚’è¦‹ã¤ã‘ãŸ')

build_B2_fromB1_1 = ->
	with build_B2()
		g_player.x, g_player.y = 13, 8
build_B2_fromB1_2 = ->
	with build_B2()
		g_player.x, g_player.y = 16, 8
build_B2_fromB1_3 = ->
	with build_B2()
		g_player.x, g_player.y = 12, 12

build_B2_fromB3_1 = ->
	with build_B2()
		g_player.x, g_player.y = 11, 8
build_B2_fromB3_2 = ->
	with build_B2()
		g_player.x, g_player.y = 17, 9
------------
build_B2_fromB1_4 = ->
	with build_B2()
		g_player.x, g_player.y = 8, 8
build_B2_fromB1_5 = ->
	with build_B2()
		g_player.x, g_player.y = 8, 9
build_B2_fromB1_6 = ->
	with build_B2()
		g_player.x, g_player.y = 16, 17
build_B2_fromB1_7 = ->
	with build_B2()
		g_player.x, g_player.y = 17, 16

build_B2_fromB3_3 = ->
	with build_B2()
		g_player.x, g_player.y = 8, 16
build_B2_fromB3_4 = ->
	with build_B2()
		g_player.x, g_player.y = 9, 17
		
mapdataB3 = $to2d[[
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCC''''''C3''CCCCCCCC
CCCCCCCC'CCC''CCC'CCCCCCCC
CCCCCCCC'C3C''''''CCCCCCCC
CCCCCCCC'C'CCC'CC'CCCCCCCC
CCCCCCCC'C''C3''C'CCCCCCCC
CCCCCCCC'CC'CCC'C'CCCCCCCC
CCCCCCCC'4C'''CCC'CCCCCCCC
CCCCCCCCCCCCC''4C'CCCCCCCC
CCCCCCCC''''CCCCC'CCCCCCCC
CCCCCCCC3'C'''''''CCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
]]

build_B3 = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽ(mapdataB3)
		.traps[] = with {15, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB3_1()
		.traps[] = with {10, 10} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB3_2()
		.traps[] = with {13, 12} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB3_3()
		.traps[] = with {8, 17} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B2_fromB3_4()
		.traps[] = with {9, 14} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B4_fromB3_1()
		.traps[] = with {15, 15} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B4_fromB3_2()
		_monster = -> generateMonster lume.weightedchoice {ã ã„ã¾ã©ã†: 1, ã—ã«ãŒã¿ã®ãã—: 1, ã‚¹ãƒˆãƒ¼ãƒ³ãƒžãƒ³: 1, ã‚­ãƒ¼ã‚¹ãƒ‰ãƒ©ã‚´ãƒ³: 2}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()

build_B3_fromB2_1 = ->
	with build_B3()
		g_player.x, g_player.y = 15, 8
build_B3_fromB2_2 = ->
	with build_B3()
		g_player.x, g_player.y = 10, 10

build_B3_fromB4_1 = ->
	with build_B3()
		g_player.x, g_player.y = 9, 14
build_B3_fromB4_2 = ->
	with build_B3()
		g_player.x, g_player.y = 15, 15
----------
build_B3_fromB2_3 = ->
	with build_B3()
		g_player.x, g_player.y = 13, 12
build_B3_fromB2_4 = ->
	with build_B3()
		g_player.x, g_player.y = 8, 17


mapdataB4 = $to2d[[
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCC''''''''''CCCCCCCC
CCCCCCCC'CCCCCC'4'CCCCCCCC
CCCCCCCC'C4'''''''CCCCCCCC
CCCCCCCC'CCCC'''C'CCCCCCCC
CCCCCCCC''''C'''C'CCCCCCCC
CCCCCCCC'CC'CCC'C'CCCCCCCC
CCCCCCCCCC''''C'C'CCCCCCCC
CCCCCCCCC'''C'C3C'CCCCCCCC
CCCCCCCC'''CC'CCC'CCCCCCCC
CCCCCCCC3'CC''''''CCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
]]

build_B4 = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽ(mapdataB4)
		.traps[] = with {8, 17} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B3_fromB4_1()
		.traps[] = with {15, 15} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B3_fromB4_2()
		.traps[] = with {10, 10} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B5_fromB4_1()
		.traps[] = with {16, 9} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B5_fromB4_2()
		_monster = -> generateMonster lume.weightedchoice {ã ã„ã¾ã©ã†: 1, ã—ã«ãŒã¿ã®ãã—: 1, ã‚¹ãƒˆãƒ¼ãƒ³ãƒžãƒ³: 1, ã‚­ãƒ¼ã‚¹ãƒ‰ãƒ©ã‚´ãƒ³: 2}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()

build_B4_fromB3_1 = ->
	with build_B4()
		g_player.x, g_player.y = 8, 17
build_B4_fromB3_2 = ->
	with build_B4()
		g_player.x, g_player.y = 15, 15

build_B4_fromB5_1 = ->
	with build_B4()
		g_player.x, g_player.y = 10, 10
build_B4_fromB5_2 = ->
	with build_B4()
		g_player.x, g_player.y = 16, 9

mapdataB5 = $to2d[[
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCC4C'C3'''C3CCCCCCCC
CCCCCCCC'C'CCCC'C'CCCCCCCC
CCCCCCCC'C''''C'C'CCCCCCCC
CCCCCCCC'C'CC'C'C'CCCCCCCC
CCCCCCCC'C'C''C'C'CCCCCCCC
CCCCCCCC'C'C'4C'C'CCCCCCCC
CCCCCCCC'C'CCCC'C'CCCCCCCC
CCCCCCCC'C''''''C'CCCCCCCC
CCCCCCCC'CCCCCCCC'CCCCCCCC
CCCCCCCC''''''''''CCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
]]


build_B5 = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽ(mapdataB5)
		.traps[] = with {17, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B4_fromB5_1()
		.traps[] = with {12, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B4_fromB5_2()
		.traps[] = with {8, 8} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B6_fromB5_1()
		.traps[] = with {13, 13} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B6_fromB5_2()
		_monster = -> generateMonster lume.weightedchoice {ã ã„ã¾ã©ã†: 1, ã‚¹ãƒˆãƒ¼ãƒ³ãƒžãƒ³: 1, ãƒ€ãƒ¼ã‚¯ãƒ‰ãƒ©ã‚´ãƒ³: 1, ã—ã«ãŒã¿ã®ãã—: 2}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()

build_B5_fromB4_1 = ->
	with build_B5()
		g_player.x, g_player.y = 17, 8
build_B5_fromB4_2 = ->
	with build_B5()
		g_player.x, g_player.y = 12, 8

build_B5_fromB6_1 = ->
	with build_B5()
		g_player.x, g_player.y = 8, 8
build_B5_fromB6_2 = ->
	with build_B5()
		g_player.x, g_player.y = 13, 13

mapdataB6 = $to2d[[
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCC3''''''''4CCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCC''''''''CCCCCCCCC
CCCCCCCCC''''''''CCCCCCCCC
CCCCCCCC3''''''''4CCCCCCCC
CCCCCCCCC''''''''CCCCCCCCC
CCCCCCCCC''''''''CCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
CCCCCCCCCCCCCCCCCCCCCCCCCC
]]

build_B6 = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽ(mapdataB6)
		.traps[] = with {8, 14} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B5_fromB6_1()
		.traps[] = with {8, 8} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B5_fromB6_2()
		.traps[] = with {17, 14} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B7_fromB6_1()
		.traps[] = with {17, 8} -- é™ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B6_fromB5_2() -- ãƒ«ãƒ¼ãƒ—ã™ã‚‹
		_monster = -> generateMonster lume.weightedchoice {ã ã„ã¾ã©ã†: 1, ã‚¹ãƒˆãƒ¼ãƒ³ãƒžãƒ³: 1, ãƒ€ãƒ¼ã‚¯ãƒ‰ãƒ©ã‚´ãƒ³: 1, ã—ã«ãŒã¿ã®ãã—: 2}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()

build_B6_fromB5_1 = ->
	with build_B6()
		g_player.x, g_player.y = 8, 14
build_B6_fromB5_2 = ->
	with build_B6()
		g_player.x, g_player.y = 8, 8

build_B6_fromB7_1 = ->
	with build_B6()
		g_player.x, g_player.y = 17, 14
-- build_B6_fromB7_2 = ->
-- 	with build_B6()
-- 		g_player.x, g_player.y = 17, 8

mapdataB7 = $to2d[[
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPCCCCPPPPPPPCCCCCCCCCPCCCPPPPPPPPPP
PPPPPPPPCC''CCCCCCCCC'''C'''CCC'CCPPPPPPPPP
PPPPPPPCC''''CC''''C'''''''''C'''CCPPPPPPPP
PPPPPPPC''''''CC''CC''''C''''C'C''CPPPPPPPP
PPPPPPPC''C'''C''''''''CCC''''''''CPPPPPPPP
PPPPPPPC''''''C''''CCCCC'CCCCC'C''CPPPPPPPP
PPPPPPPCC''''CC''''C'''CCC'''C'''CCPPPPPPPP
PPPPPPPPCC''CC'''''CC'''''''CCC'CC$PPPPPPPP
PPPPPPPPPC'CC''CCCCCCC''C''CC$C'C$$PPPPPPPP
PPPPPPPPPC'''''C'''''CC'''CC$$$$$$PPPPPPPPP
PPPPPPPPPC'CCCCC'''''CCC'CC$$P$$$PPPPPPPPPP
PPPPPPPPPC'C'''C'''''''''C$$PPPP$)$PPPPPPPP
PPPPPPPPPC'C'C'C'''''CCC'CC$PPPPPP!PPPPPPPP
PPPPPPPPPC'C'''C'''''CC'''CPPP$PP,!PPPPPPPP
PPPPPPPPPC'C'C'CCCCCCC'''CCP$P,$)$PPPPPPPPP
PPPPPPPPPC'C'''CC'''''''CCPPPP!!PPPPPPPPPPP
PPPPPPPPPC'C'C'C'''CCC'CCPPP$PP,$PPPPPPPPPP
PPPPPPPPPC'C'''C''CCPCCCPPP$$P$P!P$PPPPPPPP
PPPPPPPPPC'C'C'C'CCPPPPPPP$$PP$$!$$PPPPPPPP
PPPPPPPPPC'C'''C'CPPPCCCPPPPP$$,,$PPPPPPPPP
PPPPPPPPCC'CC'CC'CCPCC'CCPPP$$!!,$$PPPPPPPP
PPPPPPPCC'''C'C'''CCC'''CCPP$CC'CC$PPPPPPPP
PPPPPPPC''''''''''CC'AA''CCCCC'''C$PPPPPPPP
PPPPPPPC''C''CC'''C''A'''''''''''C!PPPPPPPP
PPPPPPPC'''''CCC'CCC'AA''CCCCC'''C!PPPPPPPP
PPPPPPPCC'''CCPC'CPCC'''CCPP,CCCCC$PPPPPPPP
PPPPPPPPCC'CCPPC'CPPCC'CCPPP$$,,,$$PPPPPPPP
PPPPPPPPPCCCPP,C'C,PPCCCPPPPP$$$$$PPPPPPPPP
PPPPPPPPPPPPP,,C3C,,PPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPP,,,CCC,,PPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPP,,,,,,,,PPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPP,,,,PPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPP,,PPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
]]

build_B7 = ->
	with ã‚Šã‚…ã†ãŠã†ã®åŸŽåœ°ä¸Š(mapdataB7)
		.traps[] = with {16, 35} -- æ˜‡ã‚ŠéšŽæ®µ
			.talk = =>
				play'assets/DQ1/éšŽæ®µ.ogg'
				Scene.current\blackout -> Scene.current = build_B6_fromB7_1()
		_monster = -> generateMonster lume.weightedchoice {ã ã„ã¾ã©ã†: 1, ã‚¹ãƒˆãƒ¼ãƒ³ãƒžãƒ³: 1, ãƒ€ãƒ¼ã‚¯ãƒ‰ãƒ©ã‚´ãƒ³: 1, ã—ã«ãŒã¿ã®ãã—: 2}
		.traps[] = with {}
			.check = (_player)-> math.random() < 0.2
			.talk = => Battle(_monster())\attach()
		.ãŽã‚“ã®ãŸã¦ã”ã¨ = => Battle(_monster())\attach()
		.charactors[] = æ‰‰(23, 18, 'ã‚Šã‚…ã†ãŠã†ã®åŸŽB7')
		.charactors[] = å®ç®±(19, 19, L'ã‚„ããã†')
		.charactors[] = å®ç®±(18, 19, L'ã®ã‚ã„ã®ãƒ™ãƒ«ãƒˆ')
		.charactors[] = å®ç®±(17, 19, L'ã‚­ãƒ¡ãƒ©ã®ã¤ã°ã•')
		.charactors[] = å®ç®±(18, 18, L'ã‹ãŽ')
		.charactors[] = å®ç®±(17, 18, math.random(500, 755))
		.charactors[] = å®ç®±(17, 17, L'ã‚„ããã†')
		.charactors[] = with Charactor(22, 30, {0x42})
			.talk = =>
				with m1 = MessageBoxRetro({ <index>: coroutine.wrap((_, _)->
						coroutine.yield 1, L('ï¼Šã€Œã‚ˆãããŸã€€%sã‚ˆã€‚\nã€€ã€€ã‚ã—ãŒã€€ãŠã†ã®ãªã‹ã®ã€€ãŠã†\nã€€ã€€ã‚Šã‚…ã†ãŠã†ã ã€‚ðŸ”»')\format(g_player.name)
						coroutine.yield 1, L('\nï¼Šã€Œã‚ã—ã¯ã€€ã¾ã£ã¦ãŠã£ãŸã€‚\nã€€ã€€ããªãŸã®ã‚ˆã†ãªã€€ã‚ã‹ã‚‚ã®ãŒ\nã€€ã€€ã‚ã‚‰ã‚ã‚Œã‚‹ã“ã¨ã‚’â€¦ðŸ”»')
						coroutine.yield 1, L('\nï¼Šã€Œã‚‚ã—ã€€ã‚ã—ã®ã€€ã¿ã‹ãŸã«ãªã‚Œã°\nã€€ã€€ã›ã‹ã„ã®ã€€ã¯ã‚“ã¶ã‚“ã‚’\nã€€ã€€%sã«ã€€ã‚„ã‚ã†ã€‚ðŸ”»')\format(g_player.name)
						coroutine.yield 1, L('\nï¼Šã€Œã©ã†ã˜ã‚ƒï¼Ÿ\nã€€ã€€ã‚ã—ã®ã€€ã¿ã‹ãŸã«ã€€ãªã‚‹ã‹ï¼Ÿ')
						sb = SelectBoxRetro({L'ã¯ã„', L'ã„ã„ãˆ'})
						coroutine.yield 1, sb\attach()
						if sb.index != 2
							Scene.current.parent\blackout -> Scene.current = require('DQ1_å…¨ä½“ãƒžãƒƒãƒ—').build_atãƒ©ãƒ€ãƒˆãƒ¼ãƒ åŸŽ_æœ€å¼±()
						else
							coroutine.yield 1, L('\nï¼Šã€ŒãŠã‚ã‹ã‚‚ã®ã‚ï¼\nã€€ã€€ãŠã‚‚ã„ã—ã‚‹ãŒã‚ˆã„') -- todo å—ã‘å…¥ã‚ŒãŸã¨ã
							Scene.current.detach = =>
								MessageBoxRetro.__base.detach(Scene.current) -- super()
								with b1 = Battle(generateMonster 'ã‚Šã‚…ã†ãŠã†')
									.detach = =>
										Battle.__base.detach(b1) -- super()
										if b1.monster.hp <= 0
											Battle(generateMonster 'ã‚Šã‚…ã†ãŠã†(ç«œ)')\attach()
									\attach()
							-- ã‚Šã‚…ã†ãŠã†ãŒã€€ã—ã‚‡ã†ãŸã„ã‚’\nã‚ã‚‰ã‚ã—ãŸ
							-- ç«œçŽ‹æˆ¦.ogg
							-- ãã—ã¦ã€€ã²ã‹ã‚Šã®ãŸã¾ã‚’\nã‚Šã‚…ã†ãŠã†ã‹ã‚‰ã€€ã¨ã‚Šã‚‚ã©ã—ãŸï¼ðŸ”»
							-- ã‚ãªãŸãŒã€€ã²ã‹ã‚Šã®ãŸã¾ã‚’ã€€ã‹ã–ã™ã¨\nã¾ã°ã‚†ã„ã°ã‹ã‚Šã®ã€€ã²ã‹ã‚ŠãŒ\nã‚ãµã‚Œã ã™â€¦â€¦ðŸ”»
							-- ã“ã®ãã«ã«ã€€ã¸ã„ã‚ãŒã€€ã‚‚ã©ã£ãŸã®ã ã€‚
							-- g_player.items[] = L'ã²ã‹ã‚Šã®ãŸã¾'
							-- Scene.current\blackout -> Scene.current = require('å…¨ä½“ãƒžãƒƒãƒ—').build_atã‚Šã‚…ã†ãŠã†ã®åŸŽ
						nil )})
					\attach()


build_B7_fromB6_1 = ->
	with build_B7()
		g_player.x, g_player.y = 16, 35
-- export build_B7_fromB6_1 = ->
-- 	with build_B7()
-- 		g_player.x, g_player.y = 23, 30

_ = $mml2ogg([[
Tempo(80)
Track(1) q50 @8 o4 
a>c-<a>c-<a>c-<a>c-<ã€€a>c-<a>c-<a>c-<a>c-<
l16a>c-cde-4 e-8g-e-a8a-g-ã€€l8fe-fg- g-a-16g-16fe-ã€€l16fg-fe-d8c-8 fe-dc- c-4ã€€c-4 c-4<
a>c-<a>c-<a>c-<a>c-<ã€€a>c-<a>c-<a>c-<a>c-<
l16a>c-cde-4 e-8g-e-a8a-g-ã€€l8fe-fg- g-a-16g-16fe-ã€€l16fg-fe-d8c-8 fe-dc- c-4ã€€c-4 c-4<
Track(2) v80 q60 @8 o4 l8
fdfdfdfdã€€fdfdfdfdã€€g-e-g-e-g-e-g-e-ã€€g-e-g-e-g-e-g-e-ã€€g-e-g-e-g-e-g-e-ã€€g-e-g-e-g-e-g-e-ã€€
fdfdfdfdã€€rdfdfdfdã€€g-e-g-e-g-e-g-e-ã€€g-e-g-e-g-e-g-e-ã€€g-e-g-e-g-e-g-e-ã€€g-e-g-e-g-e-g-e-ã€€
]], ã‚Šã‚…ã†ãŠã†æˆ¦, 36.2) -- 60/80 * 36
